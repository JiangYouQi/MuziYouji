(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bb098e9"],{"14c8":function(t,i,s){"use strict";s("2944")},2944:function(t,i,s){},b0c0:function(t,i,s){var a=s("83ab"),e=s("9bf2").f,r=Function.prototype,n=r.toString,o=/^\s*function ([^ (]*)/,c="name";a&&!(c in r)&&e(r,c,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(t){return""}}})},ca04:function(t,i,s){"use strict";s("ddb6")},cf2a:function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"order"},[s("div",{staticClass:"order-top"},[s("div",{staticClass:"back",on:{click:t.back}},[t._v("《")]),s("p",[t._v("填写订单")])]),s("div",{staticClass:"diandd"}),s("router-link",{staticClass:"order-box",attrs:{tag:"div",to:{path:"/ordercontacts",query:{ids:t.ids,addreID:t.detail&&t.currentContact.id}}}},[s("div",{staticClass:"contacts-left"},[s("i",[t._v("图标")])]),s("div",{staticClass:"contacts-right"},[s("div",{staticClass:"contacts-top"},[s("span",[t._v(t._s(t.currentContact.real_name))]),s("span",{staticClass:"number"},[t._v(t._s(t.currentContact.phone))])]),s("div",{staticClass:"contacts-address"},[t._v(" "+t._s(t.detail)+" ")]),s("div",{staticClass:"contacts-go"},[t._v(">")])])]),s("div",{staticClass:"orde-shopplist"},[s("p",{staticClass:"order-shopplist-num"},[t._v("商品数量:")]),t._l(t.orderarray.cartInfo,(function(t,i){return s("Orderlist",{key:i,attrs:{item:t}})}))],2),s("div",{staticClass:"tips"},[s("div",{staticClass:"goods-mon disflex"},[s("div",{staticClass:"goods-text"},[t._v("商品金额")]),s("div",{staticClass:"goods-price"},[t._v("￥"+t._s(t.orderarray.priceGroup.totalPrice))])]),t._m(0),s("van-coupon-cell",{staticClass:"coupon disflex",on:{click:function(i){t.showList=!0}}}),s("van-popup",{staticStyle:{height:"75%","padding-top":"4px"},attrs:{round:"",position:"bottom"},model:{value:t.showList,callback:function(i){t.showList=i},expression:"showList"}},[s("van-coupon-list",{on:{change:t.onChange}})],1),s("div",{staticClass:"integral disflex"},[s("div",{staticClass:"integral-text"},[t._v("积分")]),s("div",{staticClass:"integral-price"},[t._v(" "+t._s(t.orderarray.userInfo.integral)+" "),s("input",{attrs:{type:"checkbox"},domProps:{checked:t.integralboo},on:{click:t.integralClick}})])]),t._m(1),s("div",{staticClass:"line"}),s("div",{staticClass:"total"},[t._v(" 合计："),s("span",[t._v("￥"+t._s(t.integralArray.pay_price))])])],1),s("div",{staticClass:"pay-invoice"},[t._m(2),s("div",{staticClass:"pay disflex",on:{click:t.click}},[s("div",{staticClass:"pay-text"},[t._v("支付方式")]),s("div",{staticClass:"pay-price"},[t._v(" "+t._s(0==t.index?"微信支付":"余额支付")+" "),s("i",[t._v("》")])])]),s("van-popup",{style:{height:"50%"},attrs:{round:"",position:"bottom",closeable:"","close-icon":"close"},on:{"click-overlay":t.click_overlay},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[s("div",{staticClass:"pay-box"},[s("div",{staticClass:"pay-text"},[t._v("支付方式")]),s("div",{class:["pay-wechat","payflex",0==t.index?"active":""],on:{click:function(i){return t.payClick(0)}}},[s("div",{staticClass:"pay-img"},[s("i",[t._v("w")]),t._v("微信支付")]),s("div",{staticClass:"pay-text"},[t._v("微信快捷支付")])]),s("div",{class:["pay-balance","payflex",1==t.index?"active":""],on:{click:function(i){return t.payClick(1)}}},[s("div",{staticClass:"pay-img"},[s("i",[t._v("w")]),t._v("余额支付")]),s("div",{staticClass:"pay-text"},[t._v(" 可用余额："+t._s(t.orderarray.userInfo.integral)+" ")])])])])],1),s("div",{staticClass:"dian"}),s("div",{staticClass:"Submit disflex"},[s("div",{staticClass:"Submit-price"},[t._v(" ￥ "),s("span",[t._v(t._s(t.integralArray.pay_price))])]),s("div",{staticClass:"Submit-btn",on:{click:t.orderClick}},[t._v("提交订单")])])],1)},e=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"freight disflex"},[s("div",{staticClass:"freight-text"},[t._v("运费")]),s("div",{staticClass:"freight-price"},[t._v("免运费")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"message disflex"},[s("div",{staticClass:"message-text"},[t._v("留言")]),s("div",{staticClass:"message-price"},[s("input",{attrs:{type:"text",placeholder:"建议留言前与商家沟通确认"}})])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"invoice disflex"},[s("div",{staticClass:"invoice-text"},[t._v("发票")]),s("div",{staticClass:"invoice-price"},[t._v("普票(商品明细-个人)")])])}],r=(s("b0c0"),function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"orderlist"},[s("div",{staticClass:"order-shopplist-item"},[s("div",{staticClass:"img"},[s("img",{attrs:{alt:"",src:this.item.productInfo.image}})]),s("div",{staticClass:"content"},[s("p",{staticClass:"miaoshu"},[t._v(" "+t._s(this.item.productInfo.store_name)+" ")]),s("p",{staticClass:"shux"},[t._v("属性："+t._s(this.item.productInfo.attrInfo.suk))]),s("p",{staticClass:"price"},[t._v("￥"),s("span",[t._v(t._s(this.item.truePrice))])])]),s("div",{staticClass:"num"},[s("div",{staticClass:"num-num"},[s("i",[t._v("X")]),t._v(" "+t._s(this.item.cart_num))])])])])}),n=[],o={name:"orderlist",data:function(){return{}},props:{item:Object}},c=o,d=(s("14c8"),s("2877")),l=Object(d["a"])(c,r,n,!1,null,"b7aa3660",null),u=l.exports,p={},v={name:"order",components:{Orderlist:u},beforeRouteEnter:function(t,i,s){s((function(s){if("/ordercontacts"===i.path){var a=JSON.parse(t.query.item),e=a.id,r=a.name,n=a.tel,o=a.isDefault,c=a.address;s.currentContact={id:e,real_name:r,phone:n,is_default:o},s.detail=c,console.log("这是一个der",s.currentContact)}}))},props:{ids:String},data:function(){return{showList:!1,show:!1,index:1,integralboo:!1,orderarray:[],currentContact:{},detail:"",checkord:[],integralArray:[],SumitorderArray:[],orderId:""}},methods:{onAdd:function(){this.orderboo},back:function(){this.$router.go(-1)},orderClick:function(){this.orderFunction()},payClick:function(t){this.index=t,this.show=!1,this.integralFunction()},integralClick:function(){this.integralboo?this.integralboo=!1:this.integralboo=!0,this.integralFunction()},integralFunction:function(){var t=this;this.$http.post("/api/order/computed/"+this.orderarray.orderKey,{addressId:this.currentContact.id,couponId:0,payType:1==this.index?"yue":"weixin",shipping_type:1,useIntegral:this.integralboo?1:0}).then((function(i){console.log("order===========>",i),t.integralArray=i.data.data.result}))},orderFunction:function(){var t=this;this.$http.post("/api/order/create/"+this.orderarray.orderKey,{addressId:this.currentContact.id,bargainId:0,combinationId:0,couponId:0,from:"weixinh5",mark:"",payType:1==this.index?"yue":"weixin",phone:"",pinkId:0,real_name:"",seckill_id:0,shipping_type:1,store_id:0,useIntegral:this.integralboo?1:0}).then((function(i){console.log("提交订单按钮==================》0",i),t.SumitorderArray=i.data.data,console.log("this.SumitorderArray===========>",t.SumitorderArray),t.$router.push("/zhifustatus/"+t.SumitorderArray.result.orderId),console.log("this.SumitorderArray.orderId==================>",t.SumitorderArray.result.orderId)}))},onChange:function(t){this.showList=!1,this.chosenCoupon=t},onExchange:function(t){this.coupons.push(p),console.log()(t)},click:function(){this.show=!0},click_overlay:function(){this.show=!1}},mounted:function(){var t=this;this.$http.post("/api/order/confirm",{cartId:this.ids}).then((function(i){if(t.orderarray=i.data.data,""==t.detail&&(t.detail=t.orderarray.addressInfo.province+t.orderarray.addressInfo.district+t.orderarray.addressInfo.city+t.orderarray.addressInfo.detail),"{}"==JSON.stringify(t.currentContact)){var s=t.orderarray.addressInfo,a=s.id,e=s.real_name,r=s.phone,n=s.is_default;t.currentContact={id:a,real_name:e,phone:r,is_default:n},t.integralFunction()}}))}},h=v,f=(s("ca04"),Object(d["a"])(h,a,e,!1,null,"973c308e",null));i["default"]=f.exports},ddb6:function(t,i,s){}}]);
//# sourceMappingURL=chunk-1bb098e9.4edd573c.js.map