{"version":3,"sources":["webpack:///./src/views/Register.vue?86da","webpack:///./src/views/Register.vue?8759","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","back","_v","directives","name","rawName","value","expression","attrs","domProps","$event","target","composing","phoneNumber","code","codoText","sendCode","password","_m","registerbtn","staticRenderFns","data","key","created","$http","then","console","log","d","methods","$router","go","$toast","isSendCode","clearInterval","timer","setInterval","time","component"],"mappings":"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","file":"js/chunk-55b6e900.2b511e1b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=59c56d37&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"register-top\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"iconfont icon-fanhui\"})]),_c('div',{staticClass:\"title\"},[_vm._v(\"注册\")])]),_c('div',{staticClass:\"stone-box\"}),_c('div',{staticClass:\"register-box\"},[_c('div',{staticClass:\"register-box-list\"},[_c('div',{staticClass:\"username reg-inp\"},[_c('span',{staticClass:\"stars\"},[_vm._v(\"*\")]),_c('i',{staticClass:\"iconfont icon-phone\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phoneNumber),expression:\"phoneNumber\"}],attrs:{\"type\":\"text\",\"placeholder\":\"手机号\"},domProps:{\"value\":(_vm.phoneNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phoneNumber=$event.target.value}}})]),_c('div',{staticClass:\"short\"},[_c('span',{staticClass:\"stars\"},[_vm._v(\"*\")]),_c('i',{staticClass:\"iconfont icon-duanxin\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"text\",\"placeholder\":\"填写验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_c('input',{staticClass:\"codebtn\",attrs:{\"type\":\"button\",\"value\":_vm.codoText},on:{\"click\":_vm.sendCode}})]),_c('div',{staticClass:\"password reg-inp\"},[_c('span',{staticClass:\"stars\"},[_vm._v(\"*\")]),_c('i',{staticClass:\"iconfont icon-suo\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"text\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])])]),_vm._m(0),_c('div',{staticClass:\"register-btn\",on:{\"click\":_vm.registerbtn}},[_vm._v(\"注册\")]),_c('router-link',{staticClass:\"login-btn\",attrs:{\"tag\":\"div\",\"to\":\"/login\"}},[_vm._v(\"立即登录\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Check\"},[_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"checkuser\",\"id\":\"\"}}),_c('span',[_vm._v(\"我已阅读并同意《\"),_c('span',[_vm._v(\"注册协议\")]),_vm._v(\"/\"),_c('span',[_vm._v(\"隐私政策\")]),_vm._v(\"》\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register\">\r\n    <!-- 顶部导航栏 -->\r\n    <div class=\"register-top\">\r\n      <div class=\"back\" @click=\"back\">\r\n        <i class=\"iconfont icon-fanhui\"></i>\r\n      </div>\r\n      <div class=\"title\">注册</div>\r\n    </div>\r\n    <!-- 垫脚石 垫高的盒子 -->\r\n    <div class=\"stone-box\"></div>\r\n    <!-- 输入盒子 -->\r\n    <div class=\"register-box\">\r\n      <div class=\"register-box-list\">\r\n        <!-- 用户名 -->\r\n        <div class=\"username reg-inp\">\r\n          <!-- 框前星星点 -->\r\n          <span class=\"stars\">*</span>\r\n          <i class=\"iconfont icon-phone\"></i>\r\n          <input type=\"text\" placeholder=\"手机号\" v-model=\"phoneNumber\" />\r\n        </div>\r\n        <div class=\"short\">\r\n          <!-- 框前星星点 -->\r\n          <span class=\"stars\">*</span>\r\n          <i class=\"iconfont icon-duanxin\"></i>\r\n          <input type=\"text\" placeholder=\"填写验证码\" v-model=\"code\" />\r\n          <!-- v-model=\"code\" -->\r\n          <input\r\n            type=\"button\"\r\n            class=\"codebtn\"\r\n            :value=\"codoText\"\r\n            @click=\"sendCode\"\r\n          />\r\n          <!--  @click=\"sendCode\"  -->\r\n        </div>\r\n        <!-- 密码 -->\r\n        <div class=\"password reg-inp\">\r\n          <!-- 框前星星点 -->\r\n          <span class=\"stars\">*</span>\r\n          <i class=\"iconfont icon-suo\"></i>\r\n          <input type=\"text\" placeholder=\"密码\" v-model=\"password\" />\r\n        </div>\r\n        <!-- 确认密码 -->\r\n        <!-- <div class=\"yespassword reg-inp\">\r\n          框前星星点\r\n          <span class=\"stars\">*</span>\r\n          <i class=\"iconfont icon-querenmima\"></i>\r\n          <input type=\"text\" placeholder=\"确认密码\" v-model=\"password\"/>\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n    <!-- 勾选是否记住用户名 -->\r\n    <div class=\"Check\">\r\n      <input type=\"checkbox\" name=\"checkuser\" id=\"\" />\r\n      <span>我已阅读并同意《<span>注册协议</span>/<span>隐私政策</span>》</span>\r\n    </div>\r\n\r\n    <!-- 注册按钮 -->\r\n    <div class=\"register-btn\" @click=\"registerbtn\">注册</div>\r\n    <!-- 立即登录 -->\r\n    <router-link tag=\"div\" to=\"/login\" class=\"login-btn\">立即登录</router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"register\",\r\n  data() {\r\n    return {\r\n      codoText: \"获取短信验证码\",\r\n      phoneNumber: \"\",\r\n      code: \"\",\r\n      password: \"\",\r\n      key: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.$http(\"/api/verify_code\").then((d) => {\r\n      console.log(\"key==>\", d);\r\n      this.key = d.data.data.key;\r\n    });\r\n  },\r\n  methods: {\r\n    // 返回上一层\r\n    back() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 发送验证码\r\n    sendCode() {\r\n      console.log(this.key);\r\n\r\n      //发送验证码\r\n      this.$http\r\n        .post(\"api/register/verify\", {\r\n          code: \"\",\r\n          key: this.key,\r\n          phone: this.phoneNumber,\r\n          type: \"register\",\r\n        })\r\n        .then((res) => {\r\n          // console.log('发送验证码',res);\r\n          if (res.data.status == 200) {\r\n            this.sendCode_changeCodeText();\r\n            this.$toast.success(res.data.msg);\r\n          } else {\r\n            //   这里有用到vant的轻提示\r\n            this.$toast.fail(res.data.msg);\r\n          }\r\n        });\r\n    },\r\n    // 注册按钮点击 注册\r\n    registerbtn() {\r\n      if (this.phoneNumber == \"\") {\r\n        this.$toast(\"手机号不能为空\");\r\n        return;\r\n      }\r\n      if (this.code == \"\") {\r\n        this.$toast(\"验证码不能为空\");\r\n        return;\r\n      }\r\n      if (this.password == \"\") {\r\n        this.$toast(\"密码不能为空\");\r\n        return;\r\n      }\r\n      this.$http\r\n        .post(\"/api/register\", {\r\n          account: this.phoneNumber,\r\n          captcha: this.code, \r\n          password: this.password,\r\n          spread: null,\r\n        })\r\n        .then((res) => {\r\n         // console.log('注册==>',d);\r\n          if (res.status == 200) {\r\n            this.$toast.success(res.data.msg);\r\n            setTimeout(() => {\r\n              this.$router.push({\r\n                path: \"/login\",\r\n              });\r\n            }, 3000);\r\n          } else {\r\n            this.$toast.fail(res.data.msg);\r\n          }\r\n        });\r\n    },\r\n\r\n     sendCode_changeCodeText() {\r\n      // 发送验证码文本倒计时逻辑\r\n      if (!this.isSendCode) {\r\n        this.isSendCode = true;\r\n        let time = 60;\r\n        this.codoText = `剩余${time}s`;\r\n        let timer = null;\r\n        clearInterval(timer);\r\n        timer = setInterval(() => {\r\n          if (time < 2) {\r\n            clearInterval(timer);\r\n            this.codoText = \"获取验证码\";\r\n            this.isSendCode = false;\r\n          } else {\r\n            time--;\r\n            this.codoText = `剩余${time}s`;\r\n          }\r\n        }, 1000);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.register {\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-color: white;\r\n  .register-top {\r\n    width: 100%;\r\n    height: 40px;\r\n    background-color: white;\r\n    border-bottom: 1px solid #eeeeee;\r\n    box-shadow: 10px 1px 5px rgba(0, 0, 0, 0.4);\r\n    position: fixed;\r\n    top: 0px;\r\n    // display: flex;\r\n    // justify-items: center;\r\n    z-index: 1;\r\n    .back {\r\n      position: absolute;\r\n      top: 50%;\r\n      // bottom: ;\r\n      // margin: auto;\r\n      transform: translateY(-50%);\r\n      left: 5px;\r\n    }\r\n    .title {\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  }\r\n  // 垫高的垫子\r\n  .stone-box {\r\n    width: 100%;\r\n    height: 4rem;\r\n  }\r\n  // 输入框\r\n  .register-box-list {\r\n    margin-top: 3rem;\r\n    width: 80%;\r\n    margin: auto;\r\n\r\n    .reg-inp {\r\n      position: relative;\r\n    }\r\n    // 框前星星点\r\n    .stars {\r\n      position: absolute;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      left: -0.8rem;\r\n      color: #8A8DCE;\r\n    }\r\n    div {\r\n      margin-top: 20px;\r\n      i {\r\n        margin-right: 10px;\r\n        color: rgba(0, 0, 0, 0.4);\r\n      }\r\n      input {\r\n        border: 0px;\r\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n        padding: 10px;\r\n        font-size: 13px;\r\n        width: 80%;\r\n      }\r\n    }\r\n  }\r\n  // 勾选是否记住用户名\r\n  .Check {\r\n    //  text-align: left;\r\n    margin-left: 1rem;\r\n    margin-top: 1rem;\r\n    span {\r\n      //    line-height: 18px;\r\n      font-size: 12px;\r\n      color: rgba(0, 0, 0, 0.4);\r\n      span {\r\n        color: #8A8DCE;\r\n      }\r\n    }\r\n  }\r\n  .Check input {\r\n    width: 10%;\r\n    // border-radius: 50%;\r\n  }\r\n\r\n  // 注册按钮\r\n  .register-btn {\r\n    width: 80%;\r\n    height: 40px;\r\n    background-color: #8A8DCE;\r\n    color: white;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    border-radius: 6px;\r\n    margin: 20px auto;\r\n  }\r\n\r\n  // 登录按钮\r\n  .login-btn {\r\n    width: 18%;\r\n    font-size: 13px;\r\n    margin: auto;\r\n    color: rgba(0, 0, 0, 0.8);\r\n  }\r\n}\r\n// 短信验证\r\n.short {\r\n  position: relative;\r\n}\r\n// 获取短信验证码\r\n.short .codebtn {\r\n  padding: 0px !important;\r\n  border: 0px !important;\r\n  background-color: white;\r\n  color: #8A8DCE;\r\n  position: absolute;\r\n  right: 1rem;\r\n  width: 6rem !important;\r\n  font-size: 0.5rem !important;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=59c56d37&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=59c56d37&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59c56d37\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}